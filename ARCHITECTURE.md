# ðŸŽ¨ Project Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER (Browser)                       â”‚
â”‚                     http://localhost:3000                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FRONTEND (React + Vite)                    â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚                      â”‚  â”‚
â”‚  â”‚   Pages    â”‚  â”‚ Components â”‚  â”‚   Redux Store        â”‚  â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚                      â”‚  â”‚
â”‚  â”‚ - Home     â”‚  â”‚ - Layout   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ - Login    â”‚  â”‚ - PostList â”‚  â”‚  â”‚   apiSlice    â”‚  â”‚  â”‚
â”‚  â”‚ - Register â”‚  â”‚ - PostForm â”‚  â”‚  â”‚  (RTK Query)  â”‚  â”‚  â”‚
â”‚  â”‚ - Create   â”‚  â”‚ - PostCard â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚ - Edit     â”‚  â”‚            â”‚  â”‚                      â”‚  â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  authSlice    â”‚  â”‚  â”‚
â”‚                                   â”‚  â”‚ (Auth State)  â”‚  â”‚  â”‚
â”‚                                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚                                   â”‚                      â”‚  â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTP Requests
                         â”‚ (JSON + Token)
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BACKEND (Express Server)                    â”‚
â”‚                     http://localhost:5000                    â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              API Routes (/api)                        â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  Authentication:                                      â”‚  â”‚
â”‚  â”‚  â€¢ POST /auth/register                                â”‚  â”‚
â”‚  â”‚  â€¢ POST /auth/login                                   â”‚  â”‚
â”‚  â”‚  â€¢ POST /auth/logout                                  â”‚  â”‚
â”‚  â”‚  â€¢ GET  /auth/me                                      â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  Blog Posts:                                          â”‚  â”‚
â”‚  â”‚  â€¢ GET    /posts          (public)                    â”‚  â”‚
â”‚  â”‚  â€¢ GET    /posts/:id      (public)                    â”‚  â”‚
â”‚  â”‚  â€¢ POST   /posts          (protected)                 â”‚  â”‚
â”‚  â”‚  â€¢ PUT    /posts/:id      (protected)                 â”‚  â”‚
â”‚  â”‚  â€¢ DELETE /posts/:id      (protected)                 â”‚  â”‚
â”‚  â”‚  â€¢ GET    /posts/search/:query (public)               â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Middleware & Authentication                   â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  â€¢ cors() - Enable cross-origin requests             â”‚  â”‚
â”‚  â”‚  â€¢ express.json() - Parse JSON bodies                â”‚  â”‚
â”‚  â”‚  â€¢ authenticate() - Verify tokens                     â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            In-Memory Data Storage                     â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  let users = [...]      // User accounts             â”‚  â”‚
â”‚  â”‚  let posts = [...]      // Blog posts                â”‚  â”‚
â”‚  â”‚  let sessions = {...}   // Active sessions           â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagrams

### 1. User Registration Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚                    â”‚Frontend â”‚                  â”‚ Backend â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
   â”‚                             â”‚                            â”‚
   â”‚ 1. Fill registration form   â”‚                            â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>                            â”‚
   â”‚                             â”‚                            â”‚
   â”‚ 2. Click "Register"         â”‚                            â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>                            â”‚
   â”‚                             â”‚                            â”‚
   â”‚                             â”‚ 3. POST /auth/register     â”‚
   â”‚                             â”‚   {username, email, pwd}   â”‚
   â”‚                             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                             â”‚                            â”‚
   â”‚                             â”‚                    4. Create user
   â”‚                             â”‚                    5. Generate token
   â”‚                             â”‚                    6. Save session
   â”‚                             â”‚                            â”‚
   â”‚                             â”‚ 7. {token, user}           â”‚
   â”‚                             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                             â”‚                            â”‚
   â”‚                      8. Save to Redux                    â”‚
   â”‚                      9. Save to localStorage             â”‚
   â”‚                             â”‚                            â”‚
   â”‚  10. Redirect to home       â”‚                            â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚
   â”‚                             â”‚                            â”‚
```

### 2. Create Blog Post Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚                    â”‚Frontend â”‚                  â”‚ Backend â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
   â”‚                             â”‚                            â”‚
   â”‚ 1. Navigate to /create      â”‚                            â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>                            â”‚
   â”‚                             â”‚                            â”‚
   â”‚                       2. Check auth                      â”‚
   â”‚                          (has token?)                    â”‚
   â”‚                             â”‚                            â”‚
   â”‚ 3. Show form                â”‚                            â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚
   â”‚                             â”‚                            â”‚
   â”‚ 4. Fill title & content     â”‚                            â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>                            â”‚
   â”‚                             â”‚                            â”‚
   â”‚ 5. Click "Publish"          â”‚                            â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>                            â”‚
   â”‚                             â”‚                            â”‚
   â”‚                             â”‚ 6. POST /posts             â”‚
   â”‚                             â”‚   Authorization: Bearer... â”‚
   â”‚                             â”‚   {title, content}         â”‚
   â”‚                             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                             â”‚                            â”‚
   â”‚                             â”‚                    7. Verify token
   â”‚                             â”‚                    8. Create post
   â”‚                             â”‚                    9. Add author info
   â”‚                             â”‚                            â”‚
   â”‚                             â”‚ 10. {new post}             â”‚
   â”‚                             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                             â”‚                            â”‚
   â”‚                      11. Update cache                    â”‚
   â”‚                      12. Redirect to home                â”‚
   â”‚                             â”‚                            â”‚
   â”‚ 13. See new post            â”‚                            â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚
   â”‚                             â”‚                            â”‚
```

### 3. View Posts Flow (with RTK Query Cache)

```
â”Œâ”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚                â”‚Componentâ”‚             â”‚RTK Queryâ”‚          â”‚ Backend â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚ 1. Visit homepage       â”‚                       â”‚                    â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚                    â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚ 2. useGetPostsQuery() â”‚                    â”‚
   â”‚                         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚                   3. Check cache           â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚                   4. Cache miss             â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚                       â”‚ 5. GET /posts      â”‚
   â”‚                         â”‚                       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚                       â”‚               6. Return posts
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚                       â”‚ 7. [posts]         â”‚
   â”‚                         â”‚                       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚                   8. Store in cache        â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚ 9. {data, isLoading}  â”‚                    â”‚
   â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚ 10. Display posts       â”‚                       â”‚                    â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚                    â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚ --- User navigates away and returns ---         â”‚                    â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚ 11. Visit homepage againâ”‚                       â”‚                    â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚                    â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚ 12. useGetPostsQuery()â”‚                    â”‚
   â”‚                         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚                   13. Check cache          â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚                   14. Cache hit!           â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚                         â”‚ 15. Return cached dataâ”‚                    â”‚
   â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
   â”‚                         â”‚    (No API call!)     â”‚                    â”‚
   â”‚                         â”‚                       â”‚                    â”‚
   â”‚ 16. Display instantly   â”‚                       â”‚                    â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚                    â”‚
   â”‚                         â”‚                       â”‚                    â”‚
```

---

## Component Hierarchy

```
App
â”‚
â”œâ”€ Layout
â”‚  â”œâ”€ Header
â”‚  â”‚  â””â”€ Navigation
â”‚  â”‚     â”œâ”€ Logo
â”‚  â”‚     â””â”€ Nav Links
â”‚  â”‚        â”œâ”€ Home
â”‚  â”‚        â”œâ”€ Create Post (if authenticated)
â”‚  â”‚        â”œâ”€ Login (if not authenticated)
â”‚  â”‚        â”œâ”€ Register (if not authenticated)
â”‚  â”‚        â””â”€ Logout Button (if authenticated)
â”‚  â”‚
â”‚  â””â”€ Outlet (renders child routes)
â”‚     â”‚
â”‚     â”œâ”€ PostList (/)
â”‚     â”‚  â”œâ”€ Search Bar
â”‚     â”‚  â””â”€ Post Cards
â”‚     â”‚     â””â”€ Link to PostDetail
â”‚     â”‚
â”‚     â”œâ”€ PostDetail (/post/:id)
â”‚     â”‚  â”œâ”€ Post Content
â”‚     â”‚  â””â”€ Actions (Edit/Delete if owner)
â”‚     â”‚
â”‚     â”œâ”€ PostForm (/create or /edit/:id)
â”‚     â”‚  â”œâ”€ Title Input
â”‚     â”‚  â”œâ”€ Content Textarea
â”‚     â”‚  â””â”€ Submit Button
â”‚     â”‚
â”‚     â”œâ”€ Login (/login)
â”‚     â”‚  â”œâ”€ Email Input
â”‚     â”‚  â”œâ”€ Password Input
â”‚     â”‚  â””â”€ Login Button
â”‚     â”‚
â”‚     â””â”€ Register (/register)
â”‚        â”œâ”€ Username Input
â”‚        â”œâ”€ Email Input
â”‚        â”œâ”€ Password Input
â”‚        â”œâ”€ Confirm Password Input
â”‚        â””â”€ Register Button
```

---

## Redux Store Structure

```
Redux Store
â”‚
â”œâ”€ api (RTK Query)
â”‚  â”œâ”€ queries
â”‚  â”‚  â”œâ”€ getPosts
â”‚  â”‚  â”œâ”€ getPost(id)
â”‚  â”‚  â””â”€ getCurrentUser
â”‚  â”‚
â”‚  â”œâ”€ mutations
â”‚  â”‚  â”œâ”€ login
â”‚  â”‚  â”œâ”€ register
â”‚  â”‚  â”œâ”€ logout
â”‚  â”‚  â”œâ”€ createPost
â”‚  â”‚  â”œâ”€ updatePost
â”‚  â”‚  â””â”€ deletePost
â”‚  â”‚
â”‚  â””â”€ cache
â”‚     â””â”€ Cached API responses
â”‚
â””â”€ auth
   â”œâ”€ token: string | null
   â””â”€ user: User | null
```

---

## File Structure Detailed

```
Blog App/
â”‚
â”œâ”€ backend/
â”‚  â”œâ”€ node_modules/          (npm packages)
â”‚  â”œâ”€ server.js              â­ Main server file
â”‚  â”œâ”€ package.json           (Dependencies & scripts)
â”‚  â”œâ”€ .gitignore            (Ignore node_modules)
â”‚  â””â”€ README.md             (Backend documentation)
â”‚
â”œâ”€ frontend/
â”‚  â”œâ”€ node_modules/         (npm packages)
â”‚  â”‚
â”‚  â”œâ”€ public/               (Static assets)
â”‚  â”‚
â”‚  â”œâ”€ src/
â”‚  â”‚  â”œâ”€ components/        â­ React Components
â”‚  â”‚  â”‚  â”œâ”€ Layout.tsx     (Header + Navigation)
â”‚  â”‚  â”‚  â”œâ”€ PostList.tsx   (All posts view)
â”‚  â”‚  â”‚  â”œâ”€ PostDetail.tsx (Single post view)
â”‚  â”‚  â”‚  â”œâ”€ PostForm.tsx   (Create/Edit form)
â”‚  â”‚  â”‚  â”œâ”€ Login.tsx      (Login page)
â”‚  â”‚  â”‚  â””â”€ Register.tsx   (Register page)
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ store/            â­ Redux Store
â”‚  â”‚  â”‚  â”œâ”€ store.ts      (Configure store)
â”‚  â”‚  â”‚  â”œâ”€ apiSlice.ts   (RTK Query API)
â”‚  â”‚  â”‚  â”œâ”€ authSlice.ts  (Auth state)
â”‚  â”‚  â”‚  â””â”€ hooks.ts      (Typed hooks)
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ App.tsx          â­ Main app + routes
â”‚  â”‚  â”œâ”€ main.tsx         â­ Entry point
â”‚  â”‚  â””â”€ index.css         (Global styles)
â”‚  â”‚
â”‚  â”œâ”€ index.html           (HTML template)
â”‚  â”œâ”€ package.json         (Dependencies & scripts)
â”‚  â”œâ”€ vite.config.ts       (Vite configuration)
â”‚  â”œâ”€ tsconfig.json        (TypeScript config)
â”‚  â”œâ”€ .gitignore          (Ignore node_modules, dist)
â”‚  â””â”€ README.md           (Frontend documentation)
â”‚
â”œâ”€ README.md              â­ Main project documentation
â”œâ”€ SETUP_GUIDE.md        â­ Quick start instructions
â”œâ”€ LEARNING_GUIDE.md     â­ Code explanations
â”œâ”€ ARCHITECTURE.md       â­ This file!
â””â”€ .gitignore            (Project-wide ignores)
```

---

## Technology Stack Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER INTERFACE                    â”‚
â”‚              (Browser - HTML, CSS, JS)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 FRONTEND LAYER                       â”‚
â”‚                                                      â”‚
â”‚  React 18          - UI Components                  â”‚
â”‚  TypeScript        - Type Safety                    â”‚
â”‚  Vite              - Build Tool                     â”‚
â”‚  React Router      - Navigation                     â”‚
â”‚  Redux Toolkit     - State Management               â”‚
â”‚  RTK Query         - API Calls & Caching            â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                   HTTP/REST
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BACKEND LAYER                       â”‚
â”‚                                                      â”‚
â”‚  Node.js           - Runtime                        â”‚
â”‚  Express           - Web Framework                  â”‚
â”‚  CORS              - Security                       â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA LAYER                         â”‚
â”‚                                                      â”‚
â”‚  In-Memory Arrays  - Data Storage                   â”‚
â”‚  (No Database)     - Simple & Fast                  â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Request/Response Cycle

### Example: Fetching Posts

```
1. Component Renders
   â†“
2. useGetPostsQuery() hook called
   â†“
3. RTK Query checks cache
   â†“
4. If not cached, makes HTTP request
   GET http://localhost:5000/api/posts
   â†“
5. Express server receives request
   â†“
6. Route handler executes
   app.get('/api/posts', ...)
   â†“
7. Returns posts array as JSON
   res.json(posts)
   â†“
8. RTK Query receives response
   â†“
9. Stores in cache
   â†“
10. Updates component with data
    â†“
11. Component re-renders with posts
```

### Example: Creating Post (Protected)

```
1. User fills form
   â†“
2. Clicks "Publish"
   â†“
3. createPost mutation called
   â†“
4. RTK Query adds token to headers
   Authorization: Bearer abc123...
   â†“
5. POST http://localhost:5000/api/posts
   Body: {title, content}
   â†“
6. Express authenticate middleware
   - Extracts token
   - Verifies in sessions
   - Adds userId to request
   â†“
7. Route handler executes
   app.post('/api/posts', authenticate, ...)
   â†“
8. Creates new post with author info
   â†“
9. Returns new post as JSON
   â†“
10. RTK Query invalidates 'Post' cache
    â†“
11. Automatically refetches post list
    â†“
12. UI updates with new post
```

---

## Security Flow

```
Registration/Login
       â†“
Generate Token
       â†“
Token sent to Frontend
       â†“
Stored in Redux + localStorage
       â†“
Every API Request includes token
       â†“
Backend Middleware verifies token
       â†“
   Valid?
   â†™    â†˜
 Yes     No
  â†“      â†“
Allow   Return
       401
```

---

This architecture provides:
âœ… Clear separation of concerns
âœ… Scalable structure
âœ… Type safety with TypeScript
âœ… Efficient caching with RTK Query
âœ… Secure authentication
âœ… Easy to understand and extend
